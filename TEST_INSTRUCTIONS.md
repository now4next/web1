# π§ ν…μ¤νΈ κ°€μ΄λ“: FOREIGN_KEY_ERROR μμ • ν™•μΈ

## π“‹ ν…μ¤νΈ λ©μ 
AIκ°€ μƒμ„±ν• λ¬Έν•­μ μ—­λ‰ ν‚¤μ›λ“κ°€ λ°μ΄ν„°λ² μ΄μ¤μ™€ μ •ν™•ν μΌμΉν•μ—¬, μ§„λ‹¨ μ μ¶ μ‹ FOREIGN_KEY_ERRORκ°€ λ°μƒν•μ§€ μ•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

---

## π ν…μ¤νΈ ν™κ²½

- **Production URL**: https://f3452c0d.aiassess.pages.dev
- **λλ”**: https://aiassess.pages.dev
- **λΈλΌμ°μ €**: Chrome, Firefox, Safari λ“±
- **ν•„μ λ„κµ¬**: λΈλΌμ°μ € κ°λ°μ λ„κµ¬ (F12)

---

## β… ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

### **ν…μ¤νΈ 1: κΈ°λ³Έ μ§„λ‹¨ ν”λ΅μ°**

#### 1οΈβƒ£ Phase 1: μ§„λ‹¨ μ„¤κ³„ λ° λ¬Έν•­ μƒμ„±

1. https://f3452c0d.aiassess.pages.dev μ ‘μ†
2. μƒλ‹¨ νƒ­μ—μ„ **"μ§„λ‹¨ μ„¤κ³„"** ν΄λ¦­
3. **μ—­λ‰ μ„ νƒ**:
   - κ²€μƒ‰μ°½μ— "μ»¤λ®¤λ‹μΌ€μ΄μ…" μ…λ ¥ β†’ μ„ νƒ
   - κ²€μƒ‰μ°½μ— "λ¦¬λ”μ‹­" μ…λ ¥ β†’ μ„ νƒ
   - κ²€μƒ‰μ°½μ— "λ¬Έμ ν•΄κ²°" μ…λ ¥ β†’ μ„ νƒ
   - κ²€μƒ‰μ°½μ— "ν‘μ—…" μ…λ ¥ β†’ μ„ νƒ
   - μ΄ 4-5κ° μ—­λ‰ μ„ νƒ

4. **μ§„λ‹¨ μ„¤μ •**:
   - λ€μƒ μ§κΈ‰: "μ „μ²΄" λλ” "κ³Όμ¥Β·μ°¨μ¥"
   - μ§„λ‹¨ μ ν•: "μκ°€μ§„λ‹¨"

5. **λ¬Έν•­ μƒμ„±**:
   - "AI λ¬Έν•­ μƒμ„±" λ²„νΌ ν΄λ¦­
   - λ΅λ”© ν›„ μƒμ„±λ λ¬Έν•­ ν™•μΈ
   - β… **ν™•μΈ ν¬μΈνΈ**: μƒμ„±λ λ¬Έν•­μ μ—­λ‰λ…μ΄ μ„ νƒν• μ—­λ‰κ³Ό μ •ν™•ν μΌμΉν•λ”μ§€

#### 2οΈβƒ£ Phase 2: μ‘λ‹µμ μ •λ³΄ μ…λ ¥ λ° μ§„λ‹¨ μ‹¤ν–‰

1. **μ‘λ‹µμ μ •λ³΄ μ…λ ¥**:
   - μ΄λ¦„: "ν…μ¤ν„°1"
   - μ΄λ©”μΌ: "test1@example.com"
   - λ¶€μ„: "ν…μ¤νΈν€"
   - μ§μ„: "κ³Όμ¥"

2. **μ²™λ„ μ„¤μ •**:
   - μ²™λ„ μ ν•: "5μ  μ²™λ„" (κΈ°λ³Έκ°’)

3. **λ¬Έν•­ λ””μ¤ν”λ μ΄ μ„¤μ •**:
   - "5κ°μ”© λ³΄κΈ°" λλ” "μ „μ²΄ λ³΄κΈ°" μ„ νƒ

4. **μ§„λ‹¨μ§€ κµ¬μ„±**:
   - "μ§„λ‹¨μ§€ κµ¬μ„±ν•κΈ°" λ²„νΌ ν΄λ¦­
   - μ§„λ‹¨ λ―Έλ¦¬λ³΄κΈ° ν™”λ©΄ ν™•μΈ

5. **μ§„λ‹¨ μ‘λ‹µ**:
   - λ¨λ“  λ¬Έν•­μ— 1~5μ  μ‘λ‹µ μ„ νƒ
   - β… **ν™•μΈ ν¬μΈνΈ**: λ¨λ“  λ¬Έν•­μ΄ μ •μƒμ μΌλ΅ ν‘μ‹λλ”μ§€

#### 3οΈβƒ£ μ§„λ‹¨ μ μ¶ (ν•µμ‹¬ ν…μ¤νΈ)

1. **λΈλΌμ°μ € Console μ—΄κΈ°**:
   - F12 ν‚¤ λ„λ¥΄κΈ°
   - "Console" νƒ­ μ„ νƒ
   - β… **μ¤‘μ”**: μ μ¶ μ „μ— Consoleμ„ μ—΄μ–΄λ‘μ„Έμ”!

2. **μ§„λ‹¨ μ μ¶**:
   - λ¨λ“  λ¬Έν•­ μ‘λ‹µ μ™„λ£ ν›„
   - "μ§„λ‹¨ μ μ¶" λ²„νΌ ν΄λ¦­

3. **μμƒ κ²°κ³Ό (μ„±κ³µ)**:
   ```
   β… Consoleμ— ν‘μ‹λμ–΄μ•Ό ν•  κ²ƒ:
   === μ§„λ‹¨ μ μ¶ λ””λ²„κΉ… ===
   Submitting assessment... {respondent: {...}, question_count: 12, response_count: 12, competencies: Array(12)}
   
   Submit result: {success: true, respondent_id: X, message: "μ§„λ‹¨μ΄ μ„±κ³µμ μΌλ΅ μ μ¶λμ—μµλ‹λ‹¤"}
   
   β… ν™”λ©΄μ— ν‘μ‹:
   "μ§„λ‹¨μ΄ μ„±κ³µμ μΌλ΅ μ μ¶λμ—μµλ‹λ‹¤!"
   ```

4. **μμƒ κ²°κ³Ό (μ‹¤ν¨ - μ΄μ „ λ²„μ „)**:
   ```
   β Consoleμ— ν‘μ‹λ  μ μλ” μ¤λ¥ (μμ • μ „):
   Submit result: {success: false, error: 'FOREIGN_KEY_ERROR', message: 'μ„ νƒν• μ—­λ‰μ΄ λ°μ΄ν„°λ² μ΄μ¤μ— μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤...'}
   
   β ν™”λ©΄μ— ν‘μ‹:
   "μ μ¶ μ¤‘ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤"
   ```

---

### **ν…μ¤νΈ 2: μ§λ¬΄λ… κ²€μƒ‰μΌλ΅ μ§„λ‹¨ μƒμ„±**

#### 1οΈβƒ£ μ—­λ‰ μ„ νƒ (μ§λ¬΄λ… μ‚¬μ©)

1. κ²€μƒ‰μ°½μ— **"μμ—…"** μ…λ ¥
2. λ‚νƒ€λ‚λ” μ—­λ‰λ“¤ λ¨λ‘ μ„ νƒ (μ: κ΄€κ³„ν•μ„±, μ„¤λ“/μν–¥λ ¥, μ‹μ¥λ¶„μ„)
3. "AI λ¬Έν•­ μƒμ„±" ν΄λ¦­

#### 2οΈβƒ£ μ§„λ‹¨ μ μ¶

1. μ‘λ‹µμ μ •λ³΄ μ…λ ¥
2. λ¨λ“  λ¬Έν•­ μ‘λ‹µ
3. **Console ν™•μΈ ν›„ μ μ¶**
4. β… **μ„±κ³µ ν™•μΈ**

---

### **ν…μ¤νΈ 3: λ‹¤μ–‘ν• μ—­λ‰ μ΅°ν•©**

κ° μ΅°ν•©λ³„λ΅ ν…μ¤νΈ:

1. **κ³µν†µ μ—­λ‰**: μ»¤λ®¤λ‹μΌ€μ΄μ…, λ¬Έμ ν•΄κ²°, ν‘μ—…, ν•™μµλ―Όμ²©μ„±
2. **λ¦¬λ”μ‹­ μ—­λ‰**: μ „λµμ μ‚¬κ³ , λ³€ν™”κ΄€λ¦¬, μ½”μΉ­, μμ‚¬κ²°μ •
3. **μ§λ¬΄ μ—­λ‰**: λ°μ΄ν„°λ¶„μ„, μ‚¬μ—…κΈ°ν, μ‹μ¥λ¶„μ„
4. **νΌν•© μ—­λ‰**: μ„ 3κ°€μ§€ μΉ΄ν…κ³ λ¦¬μ—μ„ κ°κ° 2-3κ°μ”© μ„ νƒ

---

## π” Console λ””λ²„κΉ… μ •λ³΄ ν™•μΈ

### **μ •μƒ μ‘λ™ μ‹ Console μ¶λ ¥ μμ‹:**

```javascript
=== μ§„λ‹¨ μ μ¶ λ””λ²„κΉ… ===
Submitting assessment... {
  respondent: {name: "ν…μ¤ν„°1", email: "test1@example.com", ...},
  question_count: 12,
  response_count: 12,
  competencies: [
    "μ»¤λ®¤λ‹μΌ€μ΄μ…",
    "μ»¤λ®¤λ‹μΌ€μ΄μ…",
    "μ»¤λ®¤λ‹μΌ€μ΄μ…",
    "λ¦¬λ”μ‹­",
    "λ¦¬λ”μ‹­",
    "λ¦¬λ”μ‹­",
    "λ¬Έμ ν•΄κ²°",
    "λ¬Έμ ν•΄κ²°",
    "λ¬Έμ ν•΄κ²°",
    "ν‘μ—…",
    "ν‘μ—…",
    "ν‘μ—…"
  ]
}

μ²« 3κ° λ¬Έν•­ μƒμ„Έ: [
  {id: null, competency: "μ»¤λ®¤λ‹μΌ€μ΄μ…", question_text: "λ‚λ” μ»¤λ®¤λ‹μΌ€μ΄μ… μ—­λ‰μ„..."},
  {id: null, competency: "μ»¤λ®¤λ‹μΌ€μ΄μ…", question_text: "λ‚λ” μ»¤λ®¤λ‹μΌ€μ΄μ…κ³Ό κ΄€λ ¨λ..."},
  {id: null, competency: "μ»¤λ®¤λ‹μΌ€μ΄μ…", question_text: "λ‚λ” μ»¤λ®¤λ‹μΌ€μ΄μ… μ—­λ‰ κ°λ°μ„..."}
]

Submit result: {success: true, respondent_id: 5, message: "μ§„λ‹¨μ΄ μ„±κ³µμ μΌλ΅ μ μ¶λμ—μµλ‹λ‹¤"}
```

### **μ¤λ¥ λ°μƒ μ‹ Console μ¶λ ¥ μμ‹:**

```javascript
=== μ§„λ‹¨ μ μ¶ λ””λ²„κΉ… ===
Submitting assessment... {competencies: Array(12), ...}

Submit result: {
  success: false,
  error: "FOREIGN_KEY_ERROR",
  message: "μ„ νƒν• μ—­λ‰μ΄ λ°μ΄ν„°λ² μ΄μ¤μ— μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤. μ—­λ‰ λ©λ΅μ„ μƒλ΅κ³ μΉ¨ν•΄μ£Όμ„Έμ”."
}

=== μ μ¶ μ‹¤ν¨ μƒμ„Έ ===
μ¤λ¥ νƒ€μ…: FOREIGN_KEY_ERROR
μ¤λ¥ λ©”μ‹μ§€: μ„ νƒν• μ—­λ‰μ΄ λ°μ΄ν„°λ² μ΄μ¤μ— μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤...
```

---

## π“ ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ

### β… μ„±κ³µ κΈ°μ¤€:

- [ ] μ—­λ‰ μ„ νƒμ΄ μ •μƒμ μΌλ΅ μ‘λ™
- [ ] AI λ¬Έν•­ μƒμ„±μ΄ μ™„λ£λ¨
- [ ] μƒμ„±λ λ¬Έν•­μ μ—­λ‰λ…μ΄ μ„ νƒν• μ—­λ‰κ³Ό μ •ν™•ν μΌμΉ
- [ ] μ§„λ‹¨ μ‘λ‹µ UIκ°€ μ •μƒμ μΌλ΅ λ λ”λ§
- [ ] **μ§„λ‹¨ μ μ¶μ΄ μ„±κ³µ (κ°€μ¥ μ¤‘μ”!)**
- [ ] Consoleμ— `success: true` ν‘μ‹
- [ ] "μ§„λ‹¨μ΄ μ„±κ³µμ μΌλ΅ μ μ¶λμ—μµλ‹λ‹¤!" λ©”μ‹μ§€ ν‘μ‹

### β μ‹¤ν¨ μ‹ νΈ:

- [ ] Consoleμ— `FOREIGN_KEY_ERROR` ν‘μ‹
- [ ] Consoleμ— `success: false` ν‘μ‹
- [ ] "μ μ¶ μ¤‘ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤" λ©”μ‹μ§€ ν‘μ‹
- [ ] μ—­λ‰λ…μ΄ μ„ νƒν• κ°’κ³Ό λ‹¤λ¦„ (μ: "λ¦¬λ”μ‹­" β†’ "μ „λµμ  λ¦¬λ”μ‹­")

---

## π› λ¬Έμ  λ°κ²¬ μ‹ λ³΄κ³  λ°©λ²•

### 1. Console μ¶λ ¥ μΊ΅μ²:
- F12 β†’ Console νƒ­
- λ¨λ“  λ΅κ·Έ μ¤ν¬λ¦°μƒ·
- νΉν `=== μ§„λ‹¨ μ μ¶ λ””λ²„κΉ… ===` λ¶€λ¶„

### 2. Network νƒ­ ν™•μΈ:
- F12 β†’ Network νƒ­
- `/api/submit-assessment` μ”μ²­ μ°ΎκΈ°
- Request Payloadμ™€ Response μΊ΅μ²

### 3. λ³΄κ³  λ‚΄μ©:
```
- ν…μ¤νΈ URL: https://f3452c0d.aiassess.pages.dev
- μ„ νƒν• μ—­λ‰: [λ¦¬μ¤νΈ]
- Console μ¶λ ¥: [μ¤ν¬λ¦°μƒ· λλ” ν…μ¤νΈ]
- Network Response: [μ¤ν¬λ¦°μƒ· λλ” ν…μ¤νΈ]
- μ¤λ¥ λ©”μ‹μ§€: [μ •ν™•ν• λ‚΄μ©]
```

---

## π― μ¶”κ°€ ν…μ¤νΈ (μ„ νƒ μ‚¬ν•­)

### 1. Edge Cases:

- **νΉμλ¬Έμ ν¬ν•¨ μ—­λ‰**: μ„ νƒ κ°€λ¥ν• κ²½μ° ν…μ¤νΈ
- **κΈ΄ μ—­λ‰λ…**: μ—¬λ¬ λ‹¨μ–΄λ΅ κµ¬μ„±λ μ—­λ‰
- **λ§μ€ μ—­λ‰ μ„ νƒ**: 10κ° μ΄μƒ μ„ νƒ

### 2. λ‹¤μ–‘ν• μ§κΈ‰/μ ν•:

- λ€μƒ μ§κΈ‰: μ „μ²΄, μ‚¬μ›Β·λ€λ¦¬, κ³Όμ¥Β·μ°¨μ¥, ν€μ¥ μ΄μƒ
- μ§„λ‹¨ μ ν•: μκ°€μ§„λ‹¨, λ‹¤λ©΄ν‰κ°€, μ„¤λ¬Έμ΅°μ‚¬

### 3. λ°λ³µ ν…μ¤νΈ:

- λ™μΌν• μ—­λ‰μΌλ΅ 3λ² μ—°μ† μ§„λ‹¨ μƒμ„± λ° μ μ¶
- β… **ν™•μΈ**: μ €μ¥λ λ¬Έν•­ μ¬μ‚¬μ© μ—¬λ¶€
- β… **ν™•μΈ**: λ¨λ“  μ μ¶μ΄ μ„±κ³µν•λ”μ§€

---

## β¨ μ„±κ³µ μ‹ κΈ°λ€ ν¨κ³Ό

μ΄ ν…μ¤νΈκ°€ ν†µκ³Όν•λ©΄:

1. β… **FOREIGN_KEY_ERROR μ™„μ „ ν•΄κ²°**
2. β… **μ§„λ‹¨ μ μ¶ μ„±κ³µλ¥  100%**
3. β… **μ‚¬μ©μ κ²½ν— λ€ν­ κ°μ„ **
4. β… **ν”„λ΅λ•μ… λ°°ν¬ μ¤€λΉ„ μ™„λ£**

---

## π“ μ§€μ›

ν…μ¤νΈ μ¤‘ λ¬Έμ κ°€ λ°μƒν•λ©΄:
- Console μ¶λ ¥ μΊ΅μ²
- μƒμ„Έ μ¬ν„ λ‹¨κ³„ κΈ°λ΅
- GitHub Issue λ“±λ΅ λλ” μ§μ ‘ λ³΄κ³ 

κ°μ‚¬ν•©λ‹λ‹¤! π‰
